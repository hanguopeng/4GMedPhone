<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content=
            "maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,initial-scale=1.0,width=device-width"/>
    <meta name="format-detection" content="telephone=no,email=no,date=no,address=no">
    <title>医嘱执行</title>
    <link rel="stylesheet" type="text/css" href="../css/aui.css"/>
    <link rel="stylesheet" type="text/css" href="../css/common.css"/>
    <link rel="stylesheet" type="text/css" href="../css/medicalAdviceExecution.css"/>
</head>
<body>
<div class="bodyContainer">
    <div class="aui-tab" id="tab">
        <div class="aui-tab-item" id="tab-advice-records" data-to="advice-records" onclick="changeTab(this);">医嘱记录</div>
        <!--<div class="aui-tab-item" id="tab-advice-execute" data-to="advice-execute" onclick="changeTab(this);">医嘱执行</div>-->
        <div class="aui-tab-item" id="tab-advice-sends" data-to="advice-sends" onclick="changeTab(this);">医嘱发送</div>
        <div class="aui-tab-item  aui-active" id="tab-tour-records" data-to="tour-records" onclick="changeTab(this);">巡视记录</div>
        <div class="aui-tab-item" id="tab-skin-test" data-to="skin-test" onclick="changeTab(this);">皮试结果</div>
    </div>
    <div class="tabBody">
        <!--医嘱记录-->
        <div id="advice-records" class="tab-body-item aui-padded-t-10 aui-font-size-14 ">
            <div class="aui-padded-l-15" id="advice-records-header">
                <label><input class="aui-margin-t-5 " name="inUse" id="inUse" type="checkbox" tapmode  onchange="adviceRecords()" checked> 在用医嘱</label>
                <label id="nonArrivalLabel" class="hide"><input class="aui-margin-t-5 " name="nonArrival" id="nonArrival" type="checkbox" tapmode  onchange="adviceRecords()" checked>未到终止时间</label>
                <label><input class="aui-margin-t-5 " name="longTermAdvice" id="longTermAdvice" type="checkbox" tapmode  onchange="adviceRecords()"> 长嘱</label>
                <label><input class="aui-margin-t-5 " name="temporaryAdvice" id="temporaryAdvice" type="checkbox" tapmode  onchange="adviceRecords()"> 临嘱</label>
                <div class="aui-btn" style="background: #38afe6;float: right;margin-right: 0.5rem;margin-top: -5px" onclick="clickBottomTab('advice-records','adviceRecords-selector');">筛选</div>
            </div>
            <div class="itemContainer" id="adviceRecordsContentContainer">
            </div>
            <div class="bottomContainer aui-font-size-14">
                <div id="adviceRecords-selector" class="bottomBody aui-padded-15" style="bottom: 0rem;padding: 0.75rem 0">
                </div>
            </div>
        </div>
        <!--医嘱执行 -->
        <div id="advice-execute" class="tab-body-item aui-padded-t-10 aui-font-size-14  ">
            <div class="aui-padded-l-15">
                <label><input class="aui-margin-t-5 " id="yesterday" type="checkbox" onclick="adviceExecute()"> 昨天</label>
                &nbsp;&nbsp;
                <label><input class="aui-margin-t-5 " id="today" type="checkbox" onclick="adviceExecute()"> 今天</label>
                &nbsp;&nbsp;
                <label><input class="aui-margin-t-5 " id="tomorrow" type="checkbox" onclick="adviceExecute()"> 明天</label>
                &nbsp;&nbsp;
                <label><input class="aui-margin-t-5 " id="allDay" type="checkbox" onclick="adviceExecute()"> 全部</label>
                &nbsp;&nbsp;
                <div class="adviceExecuteDropdown">
                     <select id="adviceExecuteItems">
                        <option value="0">输液</option>
                        <option value="1">外出</option>
                        <option value="2">请假</option>
                        <option value="3">稳定</option>
                        <option value="4">休息中</option>
                        <option value="5">进食</option>
                        <option value="6">手术</option>
                        <option value="7">检查中</option>
                        <option value="8">其它</option>
                     </select>
                </div>
            </div>
            <div class="itemContainer" id="adviceExecuteContentContainer">
            </div>
            <div class="bottomContainer">
                <div id="adviceExecute-selector" class="bottomBody aui-padded-15">
                    <div class="flex aui-margin-t-5" >
                        <div class="">
                            <span class="key">医嘱期效：</span>
                            <span class="value"><input class="adviceInput" type="text" onclick="picker(this)" placeholder="请输入内容" id="11"></span>
                        </div>
                        <div class="">
                            <span class="key">医嘱用法：</span>
                            <span class="value"><input class="adviceInput" type="text"  placeholder="请输入内容" id="22"></span>
                        </div>
                    </div>
                    <div class="flex aui-margin-t-5">
                        <div class="">
                            <span class="key">医嘱执行科室：</span>
                            <span class="value"><input class="adviceInput" type="text" onclick="picker(this)" placeholder="请输入内容" id="33"></span>
                        </div>
                        <div class="">
                            <span class="key">执行状态：</span>
                            <span class="value"><input class="adviceInput" type="text"  placeholder="请输入内容" id="44"></span>
                        </div>
                    </div>
                    <div class="flex aui-margin-t-5">
                        <div class="">
                            <span class="key">要求执行时间：</span>
                            <span class="value"><input class="adviceInputLong " type="text"  onclick="pickerWithTime(this)" placeholder="请输入内容" id="55"></span>
                            <span>&nbsp;至&nbsp;</span>
                            <span class="value"><input class="adviceInputLong " type="text"  onclick="pickerWithTime(this)" placeholder="请输入内容" id="66"></span>
                        </div>
                    </div>
                    <div class="flex aui-margin-t-5">
                        <div class="">
                            <span class="key">医嘱发送时间: </span>
                            <span class="value"><input class="adviceInputLong" type="text" onclick="pickerWithTime(this)" placeholder="请输入内容" id="77"></span>
                            <span>至</span>
                            <span class="value"><input class="adviceInputLong" type="text" onclick="pickerWithTime(this)" placeholder="请输入内容" id="88"></span>
                        </div>
                    </div>
                    <div class="aui-text-center aui-margin-t-15">
                        <div class="btn aui-btn aui-btn-success" onclick="adviceRecords();">确定</div>
                    </div>
                </div>
                <div id="adviceExecute-execute" class="bottomBody aui-padded-15 active">

                </div>
                <div class="bottomBtn aui-font-size-16 flex">
                    <div class="btn flex-item border-right" onclick="clickBottomTab('advice-execute','adviceExecute-selector');">筛选</div>
                    <div class="btn flex-item" onclick="clickBottomTab('advice-execute','adviceExecute-execute');">执行</div>
                </div>
            </div>
        </div>
        <!--医嘱发送-->
        <div id="advice-sends" class="tab-body-item aui-padded-t-10 aui-font-size-14 ">
            <div class="aui-padded-l-15" id="advice-sends-header">
                <label><input class="aui-margin-t-5 " name="inUse1" id="inUse1" type="checkbox" tapmode  onchange="adviceRecordsForAdviceSends()" checked> 在用医嘱</label>
                <label id="nonArrivalLabel1" class="hide"><input class="aui-margin-t-5 " name="nonArrival1" id="nonArrival1" type="checkbox" tapmode  onchange="adviceRecordsForAdviceSends()" checked> 未到终止时间</label>
                <label><input class="aui-margin-t-5 " name="longTermAdvice1" id="longTermAdvice1" type="checkbox" tapmode  onchange="adviceRecordsForAdviceSends()"> 长嘱</label>
                <label><input class="aui-margin-t-5 " name="temporaryAdvice1" id="temporaryAdvice1" type="checkbox" tapmode  onchange="adviceRecordsForAdviceSends()"> 临嘱</label>
                <div class="aui-btn" style="background: #38afe6;float: right;margin-right: 0.5rem;margin-top: -5px" onclick="clickBottomTab('advice-sends','adviceSends-selector');">筛选</div>
            </div>
            <div class="itemContainer" id="adviceSendsContentContainer">
            </div>
            <div class="bottomContainer aui-font-size-14">
                <div id="adviceSends-selector" class="bottomBody aui-padded-15" style="bottom: 0rem;padding: 0.75rem 0">
                </div>
            </div>
            <!--<div class="bottomContainer aui-font-size-14">-->
                <!--<div id="adviceSends-selector" class="bottomBody aui-padded-15">-->
                    <!--<div class="flex aui-margin-t-5">-->
                        <!--<div class="flex-item">-->
                            <!--<span class="key">发送时间：&nbsp; </span>-->
                            <!--<span class="value"><input class="adviceInputLong" type="text" onclick="pickerWithTime(this)" placeholder="请输入内容" id="sendTimeStart"></span>-->
                            <!--<span>&nbsp;&nbsp;至&nbsp;&nbsp; </span>-->
                            <!--<span class="value"><input class="adviceInputLong" type="text" onclick="pickerWithTime(this)" placeholder="请输入内容" id="sendTimeEnd"></span>-->
                        <!--</div>-->
                    <!--</div>-->
                    <!--<div class="flex aui-margin-t-5">-->
                        <!--<div class="flex-item">-->
                            <!--<span class="key">首次时间：&nbsp; </span>-->
                            <!--<span class="value"><input class="adviceInputLong" type="text" onclick="pickerWithTime(this)" placeholder="请输入内容" id="firstTimeStart"></span>-->
                            <!--<span>&nbsp;&nbsp;至&nbsp;&nbsp; </span>-->
                            <!--<span class="value"><input class="adviceInputLong" type="text" onclick="pickerWithTime(this)" placeholder="请输入内容" id="firstTimeEnd"></span>-->
                        <!--</div>-->
                    <!--</div>-->
                    <!--<div class="flex aui-margin-t-5">-->
                        <!--<div class="flex-item">-->
                            <!--<span class="key">末次时间：&nbsp; </span>-->
                            <!--<span class="value"><input class="adviceInputLong" type="text" onclick="pickerWithTime(this)" placeholder="请输入内容" id="lastTimeStart"></span>-->
                            <!--<span>&nbsp;&nbsp;至&nbsp;&nbsp;</span>-->
                            <!--<span class="value"><input class="adviceInputLong" type="text" onclick="pickerWithTime(this)" placeholder="请输入内容" id="lastTimeEnd"></span>-->
                        <!--</div>-->
                    <!--</div>-->
                    <!--<div class="flex aui-margin-t-5" id="advice-header">-->
                        <!--<label style="margin-left: 3rem"><input class="aui-margin-t-5"  id="changzhu" type="checkbox"> 长嘱</label>-->
                        <!--&nbsp;&nbsp;&nbsp;&nbsp;-->
                        <!--<label style="margin-right: 4rem"><input class="aui-margin-t-5"  id="linzhu" type="checkbox"> 临嘱</label>-->
                    <!--</div>-->
                    <!--<div class="aui-text-center aui-margin-t-15">-->
                        <!--<div class="btn aui-btn aui-btn-success" onclick="adviceSends();">确定</div>-->
                        <!--<div class="btn aui-btn aui-btn-success" style="margin-left: 1rem" tapmode onclick="adviceSendsReset();">重置</div>-->
                    <!--</div>-->
                <!--</div>-->
                <!--<div class="bottomBtn aui-font-size-16 flex">-->
                    <!--<div class="btn flex-item border-right" onclick="clickBottomTab('advice-sends','adviceSends-selector');">筛选</div>-->
                <!--</div>-->
            <!--</div>-->
        </div>
        <!--巡视记录-->
        <div id="tour-records" class="active tab-body-item aui-padded-t-10 aui-font-size-14 ">
            <div class="aui-padded-l-15" id="tour-records-header">
                <label><input class="aui-margin-t-5 " name="allPatient" id="allPatient" type="checkbox" tapmode  onchange="tourRecords()" checked> 全部患者</label>
                &nbsp;&nbsp;&nbsp;&nbsp;
                <label><input class="aui-margin-t-5 " name="allNurse" id="allNurse" type="checkbox" tapmode   onchange="tourRecords()"> 全部护士</label>
            </div>
            <div class="itemContainer" id="tourRecordsContentContainer">
            </div>
            <div class="bottomContainer">
                <div id="tourRecords-result" class="bottomBody aui-padded-15">
                </div>
                <div>
                    <a href="#" class="add-btn" tapmode onclick="clickBottomTab('tour-records','tourRecords-result');"></a>
                </div>
            </div>
        </div>
        <!--皮试结果-->
        <div id="skin-test" class="tab-body-item aui-padded-t-10 aui-font-size-14 ">
            <div class="aui-padded-l-15" id="skinTest-header">
                <label><input class="aui-margin-t-5 " id="noInput" type="checkbox" onclick="skinTestRecord()" checked> 未录入</label>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                <label><input class="aui-margin-t-5 " id="alreadyInput" type="checkbox" onclick="skinTestRecord()"> 已录入</label>
            </div>
            <div class="itemContainer" id="skinTestContentContainer"></div>
            <div class="bottomContainer">
                <div id="skinTest-selector" class="bottomBody " style="padding: 0.75rem 0">
                    <div class="flex aui-margin-t-5">
                        <div class="flex-item">
                            <span class="key">医嘱生效时间： </span>
                            <span class="value"><input class="input" type="text" onclick="pickerWithTime(this)" placeholder="请输入内容" id="skin-test-begin-time"></span>
                            <span>&nbsp;&nbsp;至&nbsp;&nbsp;</span>
                            <span class="value"><input class="input" type="text" onclick="pickerWithTime(this)" placeholder="请输入内容" id="skin-test-end-time"></span>
                        </div>
                    </div>
                    <div class="aui-text-center aui-margin-t-15">
                        <div class="btn aui-btn aui-btn-success" onclick="skinTestRecord();">确定</div>
                        <div class="btn aui-btn aui-btn-success" style="margin-left: 1rem" tapmode onclick="skinTestRecordReset();">重置</div>
                    </div>
                </div>
                <div id="skinTest-result" class="bottomBody aui-padded-15">
                    <div class="aui-text-left aui-margin-t-15">
                        <span style="margin-left: 1.7rem">录入时间：</span><input style="width: 6rem" class="adviceInputLong" type="text" id="input_time"  onclick="choose(this)">
                    </div>
                    <div class="flex aui-margin-t-5">
                        <div class="flex-item">
                            <span class="key">皮试结果：</span>
                            <label><input class="aui-margin-t-15 aui-margin-l-15" type="radio" name="skinTestResult" value="1" checked>  阴性（-）</label>
                            <label><input class="aui-margin-t-15 aui-margin-l-15" type="radio" name="skinTestResult" value="2">  阳性（+）</label>
                        </div>
                    </div>
                    <div class="aui-text-center aui-margin-t-15">
                        <div class="btn aui-btn aui-btn-success" onclick="skinTestExecute();">保存</div>
                    </div>
                </div>
                <div class="bottomBtn aui-font-size-16 flex active">
                    <div class="btn flex-item border-right" onclick="clickBottomTab('skin-test','skinTest-selector');">筛选</div>
                    <div class="btn flex-item" onclick="clickBottomTab('skin-test','skinTest-result');">录入结果</div>
                </div>
            </div>
        </div>
    </div>
</div>

<!--医嘱记录-->
<script id="adviceRecordsTmplList" type="text/template">
    {{?it}}
    {{
    for(var i=0;i<it.length;i++) {
    var item = it[i];
    }}
    <div class="adviceRecordsTmplList aui-font-size-14" style="color:{{=item.fieldENName}}" onclick="changeAdviceShow(this)">
        <div class="left" >{{=item.priorityName}}</div>
        <div class="right">
            <div >
                <span>医嘱内容：</span>
                {{?item.dosage}}
                <span>{{=item.name||''}}，每次{{=item.dosage||''}}</span>
                {{??}}
                <span>{{=item.name||''}}</span>
                {{?}}
            </div>
            <div>
                <span>生效时间：</span>
                <span>{{=item.adviceStart||''}}</span>
            </div>
            <div>
                <span>用法：</span>
                <span>{{=item.usageName||''}}</span>
            </div>
            <div>
                <span>医生托嘱：</span>
                <span>{{=item.entrustment||''}}</span>
            </div>
            <div>
                <span>执行科室：</span>
                <span>{{=item.acceptOrgName||''}}</span>
            </div>
            <div>
                <span>开嘱医生：</span>
                <span>{{=item.doctorName||''}}</span>
            </div>
            <div>
                <span>开嘱时间：</span>
                <span>{{=item.foundTime||''}}</span>
            </div>

            {{?item.sonBoList}}
            {{for(var j=0;j<item.sonBoList.length;j++) {
            }}
            <div>
                <span>医嘱内容{{=(j+1)}}：</span>
                {{?item.sonBoList[j].dosage}}
                <span>{{=item.sonBoList[j].name||''}}，每次{{=item.sonBoList[j].dosage||''}}</span>
                {{??}}
                <span>{{=item.sonBoList[j].name||''}}</span>
                {{?}}
            </div>
            {{}}}
            {{?}}

        </div>
    </div>
    <div id="detail" class="detail hide" onclick="changeThisShow(this)">
        <div>
            <span>总量：</span>
            <span>{{=item.num||''}}</span>
        </div>
        <div>
            <span>单量：</span>
            <span>{{=item.dosage||''}}</span>
        </div>
        <div>
            <span>天数：</span>
            <span>{{=item.dateNum||''}}</span>
        </div>
        <div>
            <span>频率：</span>
            <span>{{=item.frequencyName||''}}</span>
        </div>
        <div>
            <span>执行时间：</span>
            <span>{{=item.executionTime||''}}</span>
        </div>
        <div>
            <span>执行性质：</span>
            <span>{{=item.executiveNature||''}}</span>
        </div>
        <div>
            <span>上次执行：</span>
            <span>{{=item.lastExcecutiveTime||''}}</span>
        </div>
        <div>
            <span>状态：</span>
            <span>{{=item.statusName||''}}</span>
        </div>
        <div>
            <span>校对护士：</span>
            <span>{{=item.nurseName||''}}</span>
        </div>
        <div>
            <span>校对时间：</span>
            <span>{{=item.checkTime||''}}</span>
        </div>
        <div>
            <span>停嘱医生：</span>
            <span>{{=item.stopDocName||''}}</span>
        </div>
        <div>
            <span>停嘱时间：</span>
            <span>{{=item.stopTime||''}}</span>
        </div>
        <div>
            <span>确认停嘱时间：</span>
            <span>{{=item.stopConfirm||''}}</span>
        </div>
        <div>
            <span>基本药物：</span>
            <span>{{=item.drugs||''}}</span>
        </div>
    </div>
    {{ } }}
    {{?}}
</script>
<!--医嘱列表筛选-->
<script id="selectAdviceRecords" type="text/template">
    <div class="flex aui-margin-t-5" >
        <div class="flex-item">
            <span class="key">病案费目：</span>
            <span class="value">
                 <select class="select" style="width:4rem" id="typeCode">
                      <option value="" id="typeCodeOne">请选择</option>
                     {{
                        if(it.adviceType){
                            for(var i=0;i<it.adviceType.length;i++) {
                            var item = it.adviceType[i];
                            }}
                        <option value="{{=item.code}}">{{=item.text}}</option>
                     {{}}}}
                 </select>
            </span>
        </div>
    </div>
    <div class="flex aui-margin-t-5">
        <div class="flex-item">
            <span class="key">医嘱状态：</span>
            <span class="value">
                 <select class="select" id="status" style="width: 5.2rem">
                      <option value="" id="statusOne">请选择</option>
                     {{
                        if(it.adviceStatus){
                            for(var i=0;i<it.adviceStatus.length;i++) {
                            var item = it.adviceStatus[i];
                            }}
                        <option value="{{=item.code}}">{{=item.text}}</option>
                     {{}}}}
                 </select>
            </span>
        </div>
    </div>
    <div class="flex aui-margin-t-5">
        <div class="flex-item">
            <span class="key">开嘱时间：</span>
            <span class="value"><input class="adviceInputLong" type="text" onclick="pickerWithTime(this)" placeholder="请输入内容" id="foundTimeBegin"></span>
            <span>&nbsp;&nbsp;至&nbsp;&nbsp; </span>
            <span class="value"><input class="adviceInputLong" type="text" onclick="pickerWithTime(this)" placeholder="请输入内容" id="foundTimeEnd"></span>
        </div>
    </div>
    <div class="flex aui-margin-t-5">
        <div class="flex-item">
            <span class="key">上次执行：</span>
            <span class="value"><input class="adviceInputLong" type="text" onclick="pickerWithTime(this)" placeholder="请输入内容" id="lastExcecutiveTimeBegin"></span>
            <span>&nbsp;&nbsp;至&nbsp;&nbsp;</span>
            <span class="value"><input class="adviceInputLong" type="text" onclick="pickerWithTime(this)" placeholder="请输入内容" id="lastExcecutiveTimeEnd"></span>
        </div>
    </div>
    <div class="aui-text-center aui-margin-t-15">
        <div class="btn aui-btn aui-btn-success" onclick="adviceRecords('select');">确定</div>
        <div class="btn aui-btn aui-btn-success" style="margin-left: 1rem" tapmode onclick="adviceRecordsReset();">重置</div>
    </div>
</script>
<!--医嘱执行-->
<script id="adviceExecuteTmplList" type="text/template">
    {{
    for(var i=0;i<6;i++) {
    }}

            <div class="item border-green aui-font-size-14" onclick="changeAdviceExecuteShow(this)">
                <div class="leftTop">
                    <div>输液</div>
                </div>
                <div class="rowItem">
                    <span>要求执行时间：</span>
                    <span>2019-05-23 13:13:43</span>
                </div>
                <div class="rowItem">
                    <span>医嘱内容：</span>
                    <span>XXXXXXX</span>
                </div>
                <div class="rowItem">
                    <span>发送医嘱：</span>
                    <span>李红XXXXXXX</span>
                </div>
                <div class="rowItem">
                    <span>托嘱内容：</span>
                    <span>2019-05-23 13:13:43</span>
                </div>
                <div class="rowItem">
                    <span>开医嘱医生：</span>
                    <span>张三</span>
                </div>
            </div>
            <div id="adviceExecuteDetail" class="detail hide" onclick="closeAdviceExecuteDetail(this)">
                <div>---------医嘱发送记录---------</div>
                <div>
                    <span>发送时间：</span>
                    <span></span>
                </div>
                <div>
                    <span>单据号：</span>
                    <span></span>
                </div>
                <div>
                    <span>收费项目：</span>
                    <span></span>
                </div>
                <div>
                    <span>发送次数：</span>
                    <span></span>
                </div>
                <div>
                    <span>计费状态：</span>
                    <span></span>
                </div>
                <div>
                    <span>执行科室：</span>
                    <span></span>
                </div>
                <div>
                    <span>执行人：</span>
                    <span></span>
                </div>
                <div>
                    <span>执行时间：</span>
                    <span></span>
                </div>
                <div>
                    <span>首次时间：</span>
                    <span></span>
                </div>
                <div>
                    <span>末次时间：</span>
                    <span></span>
                </div>
                <div>
                    <span>发送人：</span>
                    <span></span>
                </div>
                <div>---------医嘱内容---------</div>
                <div>
                    <span>医嘱内容：</span>
                    <span></span>
                </div>
                <div>
                    <span>生效时间：</span>
                    <span></span>
                </div>
                <div>
                    <span>用法：</span>
                    <span></span>
                </div>
                <div>
                    <span>医生托嘱：</span>
                    <span></span>
                </div>
                <div>
                    <span>执行科室：</span>
                    <span></span>
                </div>
                <div>
                    <span>开嘱医生：</span>
                    <span></span>
                </div>
                <div>
                    <span>开嘱时间：</span>
                    <span></span>
                </div>
                <div>
                    <span>总量：</span>
                    <span></span>
                </div>
                <div>
                    <span>单量：</span>
                    <span></span>
                </div>
                <div>
                    <span>天数：</span>
                    <span></span>
                </div>
                <div>
                    <span>频率：</span>
                    <span></span>
                </div>
                <div>
                    <span>执行时间：</span>
                    <span></span>
                </div>
                <div>
                    <span>执行性质：</span>
                    <span></span>
                </div>
                <div>
                    <span>上次执行：</span>
                    <span></span>
                </div>
                <div>
                    <span>状态：</span>
                    <span></span>
                </div>
                <div>
                    <span>校对护士：</span>
                    <span></span>
                </div>
                <div>
                    <span>校对时间：</span>
                    <span></span>
                </div>
                <div>
                    <span>停嘱医生：</span>
                    <span></span>
                </div>
                <div>
                    <span>停嘱时间：</span>
                    <span></span>
                </div>
                <div>
                    <span>确认停嘱时间：</span>
                    <span></span>
                </div>
                <div>
                    <span>基本药物：</span>
                    <span></span>
                </div>
            </div>
            {{ } }}
</script>
<!--医嘱发送,暂时不用了-->
<script id="adviceSendsTmplListOld" type="text/template">
    {{?it}}
    {{
    for(var i=0;i<it.length;i++) {
    var item = it[i];
    }}
    <div class="adviceSendsTmplList aui-font-size-14" onclick="changeAdviceShow(this)">
        {{?item.fieldENName}}
        <div class="left" style="background-color:{{=item.fieldENName}};border: 1px double {{=item.fieldENName}}" >{{=item.priorityName}}</div>
        {{??}}
        <div class="left background-white" >{{=item.priorityName}}</div>
        {{?}}
        <div class="right" >
            <div>
                <span>医嘱内容：</span>
                <span>{{=item.name||''}}</span>
            </div>
            <div>
                <span>开嘱医生：</span>
                <span>{{=item.doctorName||''}}</span>
            </div>
            <div>
                <span>发送时间：</span>
                <span>{{=item.sendTime||''}}</span>
            </div>
            <div>
                <span>首次时间：</span>
                <span>{{=item.firstTime||''}}</span>
            </div>
            <div>
                <span>末次时间：</span>
                <span>{{=item.lastTime||''}}</span>
            </div>
        </div>
    </div>
    <div class="detail hide"  onclick="changeThisShow(this)">

        {{?item.costList!==null}}
        {{for(var j=0;j<item.costList.length;j++) { }}
        <div> -------------收费项{{=(j+1)}}：--------------</div>
        <div>
            <span >单据号：{{=item.costList[j].costListId||''}}</span>
            <span style="padding-left: 5rem">计费状态：{{=item.costList[j].sendBillStatus||''}}</span>
        </div>
        <div>
            <span>收费项目：</span>
            <span>{{=item.costList[j].costListType||''}}</span>
        </div>
        <div>
            <span>发送次数：</span>
            <span>{{=item.costList[j].sendNum||''}}</span>
        </div>
        <div>
            <span>发送医嘱：</span>
            <span>{{=item.costList[j].sendName||''}}</span>
        </div>
        <div>
            <span>执行科室：{{=item.costList[j].executeDepartment||''}}</span>
            <span style="padding-left: 5rem">执行状态：{{=item.costList[j].executeStatus||''}}</span>
        </div>
        <div>
            <span>执行人：{{=item.costList[j].executor||''}}</span>
            <span style="padding-left: 4rem">执行时间：{{=item.costList[j].executeTime||''}}</span>
        </div>
        {{}}}
        {{?}}
        <div>--------------医嘱内容--------------</div>
        <div>
            <span>生效时间：</span>
            <span>{{=item.adviceStart||''}}</span>
        </div>
        <div>
            <span>用法：</span>
            <span>{{=item.usageName||''}}</span>
        </div>
        <div>
            <span>医生托嘱：</span>
            <span>{{=item.entrustment||''}}</span>
        </div>
        <div>
            <span>执行科室：</span>
            <span>{{=item.acceptOrgName||''}}</span>
        </div>
        <div>
            <span>开嘱时间：</span>
            <span>{{=item.foundTime||''}}</span>
        </div>
        <div>
            <span>总量：</span>
            <span>{{=item.foundTime||''}}</span>
        </div>
        <div>
            <span>单量：</span>
            <span>{{=item.dosage||''}}</span>
        </div>
        <div>
            <span>天数：</span>
            <span>{{=item.dateNum||''}}</span>
        </div>
        <div>
            <span>频率：</span>
            <span>{{=item.frequencyName||''}}</span>
        </div>
        <div>
            <span>执行时间：</span>
            <span>{{=item.executionTime||''}}</span>
        </div>
        <div>
            <span>执行性质：</span>
            <span>{{=item.executiveNature||''}}</span>
        </div>
        <div>
            <span>上次执行：</span>
            <span>{{=item.lastExcecutiveTime||''}}</span>
        </div>
        <div>
            <span>状态：</span>
            <span>{{=item.statusName||''}}</span>
        </div>
        <div>
            <span>校对护士：</span>
            <span>{{=item.nurseName||''}}</span>
        </div>
        <div>
            <span>校对时间：</span>
            <span>{{=item.checkTime||''}}</span>
        </div>
        <div>
            <span>停嘱医生：</span>
            <span>{{=item.stopDocName||''}}</span>
        </div>
        <div>
            <span>停嘱时间：</span>
            <span>{{=item.stopTime||''}}</span>
        </div>
        <div>
            <span>确认停嘱时间：</span>
            <span>{{=item.stopConfirm||''}}</span>
        </div>
        <div>
            <span>基本药物：</span>
            <span>{{=item.drugs||''}}</span>
        </div>
    </div>
    {{ } }}
    {{?}}
</script>

<!--医嘱发送记录新-->
<script id="adviceSendsTmplList" type="text/template">
    {{?it}}
    {{
    for(var i=0;i<it.length;i++) {
    var item = it[i];
    }}
    <div class="adviceRecordsTmplList aui-font-size-14 noDetail"   style="color:{{=item.fieldENName}}"  onclick="adviceSendsDetail(this,{{=item.id}})">
        <div class="left" >{{=item.priorityName}}</div>
        <div class="right" >
            <div>
                <span>医嘱内容：</span>
                {{?item.dosage}}
                <span>{{=item.name||''}}，每次{{=item.dosage||''}}</span>
                {{??}}
                <span>{{=item.name||''}}</span>
                {{?}}
            </div>
            <div>
                <span>生效时间：</span>
                <span>{{=item.adviceStart||''}}</span>
            </div>
            <div>
                <span>用法：</span>
                <span>{{=item.usageName||''}}</span>
            </div>
            <div>
                <span>医生托嘱：</span>
                <span>{{=item.entrustment||''}}</span>
            </div>
            <div>
                <span>执行科室：</span>
                <span>{{=item.acceptOrgName||''}}</span>
            </div>
            <div>
                <span>开嘱医生：</span>
                <span>{{=item.doctorName||''}}</span>
            </div>
            <div>
                <span>开嘱时间：</span>
                <span>{{=item.foundTime||''}}</span>
            </div>

            {{?item.sonBoList}}
            {{for(var j=0;j<item.sonBoList.length;j++) {
            }}
            <div>
                <span>医嘱内容{{=(j+1)}}：</span>
                {{?item.sonBoList[j].dosage}}
                <span>{{=item.sonBoList[j].name||''}}，每次{{=item.sonBoList[j].dosage||''}}</span>
                {{??}}
                <span>{{=item.sonBoList[j].name||''}}</span>
                {{?}}
            </div>
            {{}}}
            {{?}}
        </div>
    </div>
    <div id="adviceSendsDetail{{=item.id}}"  onclick="closeDetail(this)"></div>
    {{ } }}
    {{?}}
</script>
<!--新医嘱发送记录详情-->
<script id="adviceSendsDetail" type="text/template">
    {{?it}}
    {{
    for(var j=0;j<it.length;j++) {
    var data = it[j];
    }}
    <div>
        <span style="color: #1d9230">发送时间：{{=data.sendTime||''}}</span>
    </div>
    <div>
        <span style="color: #1d9230">首次时间：{{=data.firstTime||''}}</span>
    </div>
    <div>
        <span style="color: #1d9230">末次时间：{{=data.lastTime||''}}</span>
    </div>
        {{?data.costList}}
        {{
        for(var m=0;m<data.costList.length;m++) {
        var data1 = data.costList[m];
        }}
        <div>
            <span style="color: #1d41ce">单据号：{{=data1.costListId||''}}</span>
        </div>
        <div>
            <span>发送医嘱：{{=data1.sendName||''}}</span>
        </div>
        <div>
            <span>收费项目：{{=data1.costListType||''}}</span>
        </div>
        <div>
            <span>发送次数：{{=data1.sendNum||''}}</span>
            <span style="width:60%;float:right">计费状态：{{=data1.sendBillStatus||''}}</span>
        </div>
        <div>
            <span>执行状态：{{=data1.executeStatus||''}}</span>
            <span style="width:60%;float:right">执行科室：{{=data1.executeDepartment||''}}</span>
        </div>
        <div>
            <span>执行人：{{=data1.executor||''}}</span>
            <span style="width:60%;float:right">执行时间：{{=data1.executeTime||''}}</span>
        </div>
        {{ } }}
        {{?}}
    {{ } }}
    {{?}}
</script>
<!--新医嘱发送记录列表筛选-->
<script id="selectAdviceSends" type="text/template">
    <div class="flex aui-margin-t-5" >
        <div class="flex-item">
            <span class="key">病案费目：</span>
            <span class="value">
                 <select class="select" style="width:4rem" id="typeCode1">
                      <option value="" id="typeCodeOne1">请选择</option>
                     {{
                        if(it.adviceType){
                            for(var i=0;i<it.adviceType.length;i++) {
                            var item = it.adviceType[i];
                            }}
                        <option value="{{=item.code}}">{{=item.text}}</option>
                     {{}}}}
                 </select>
            </span>
        </div>
    </div>
    <div class="flex aui-margin-t-5">
        <div class="flex-item">
            <span class="key">医嘱状态：</span>
            <span class="value">
                 <select class="select" id="status1" style="width: 5.2rem">
                      <option value="" id="statusOne1">请选择</option>
                     {{
                        if(it.adviceStatus){
                            for(var i=0;i<it.adviceStatus.length;i++) {
                            var item = it.adviceStatus[i];
                            }}
                        <option value="{{=item.code}}">{{=item.text}}</option>
                     {{}}}}
                 </select>
            </span>
        </div>
    </div>
    <div class="flex aui-margin-t-5">
        <div class="flex-item">
            <span class="key">开嘱时间：</span>
            <span class="value"><input class="adviceInputLong" type="text" onclick="pickerWithTime(this)" placeholder="请输入内容" id="foundTimeBegin1"></span>
            <span>&nbsp;&nbsp;至&nbsp;&nbsp; </span>
            <span class="value"><input class="adviceInputLong" type="text" onclick="pickerWithTime(this)" placeholder="请输入内容" id="foundTimeEnd1"></span>
        </div>
    </div>
    <div class="flex aui-margin-t-5">
        <div class="flex-item">
            <span class="key">上次执行：</span>
            <span class="value"><input class="adviceInputLong" type="text" onclick="pickerWithTime(this)" placeholder="请输入内容" id="lastExcecutiveTimeBegin1"></span>
            <span>&nbsp;&nbsp;至&nbsp;&nbsp;</span>
            <span class="value"><input class="adviceInputLong" type="text" onclick="pickerWithTime(this)" placeholder="请输入内容" id="lastExcecutiveTimeEnd1"></span>
        </div>
    </div>
    <div class="aui-text-center aui-margin-t-15">
        <div class="btn aui-btn aui-btn-success" onclick="adviceRecordsForAdviceSends('select');">确定</div>
        <div class="btn aui-btn aui-btn-success" style="margin-left: 1rem" tapmode onclick="adviceSendsReset();">重置</div>
    </div>
</script>
<!--巡视记录 -->
<script id="tourRecordsList" type="text/template">
    <table class=" aui-font-size-14">
        <thead>
        <tr>
            <th>巡视人</th>
            <th>巡视时间</th>
            <th>患者情况</th>
            <th>患者姓名</th>
            <th>床号</th>
        </tr>
        </thead>
        <tbody id="tbody">
        {{?it.list}}
        {{for(var i=0;i<it.list.length;i++) {
         var item = it.list[i];
        }}
        <tr onclick="changeNextTwoShow(this)">
            <td>{{=item.nurseName}}</td>
            <td>{{=item.inspectionTime}}</td>
            <td>
                {{?item.inspectionType==='巡视项'}}
                {{??}}
                {{=item.inspectionType}}
                {{?}}
            </td>
            <td>{{=item.patientName}}</td>
            <td>{{=item.medBedName}}</td>
        </tr>
        <tr class="hide">
            <td>护理等级</td>
            {{?it.userId === item.nurseId}}
            <td colspan="3">{{=item.nurseLevelName||''}}</td>
            <td>
                <div style="color: red" onclick="deleteThis('{{=item.id}}')">删除</div>
            </td>
            {{??}}
            <td colspan="4">{{=item.nurseLevelName||''}}</td>
            {{?}}
        </tr>
        <tr class="hide">
            <td>巡视备注</td>
            <td colspan="4">{{=item.inspectionMemo||''}}</td>
        </tr>
        {{ } }}
        {{?}}
        </tbody>
    </table>
</script>
<!--巡视结果保存-->
<script id="inputTourRecords" type="text/template">
    <div class="flex aui-margin-t-5" >
        <div class="flex-item">
            <span class="key">患者姓名：</span>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <span>{{=it.patientName}}</span>
        </div>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        <div class="flex-item">
            <span class="key">床号：</span>
            <span>{{=it.medBedName}}</span>
        </div>
    </div>
    <div class="flex aui-margin-t-5" >
        <div class="flex-item">
            <span class="key">护理等级：</span>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <span>{{=it.nurseLevelName}}</span>
        </div>
    </div>
    <div class="flex aui-margin-t-5">
        <div class="flex-item">
            <span class="key">巡&nbsp;&nbsp;视&nbsp;&nbsp;项：</span>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <span class="value">
                 <select class="select" id="inspectionTypeId">
                     {{
                        if(it.list){
                            for(var i=0;i<it.list.length;i++) {
                            var item = it.list[i];
                            }}
                        <option value="{{=item.code}}">{{=item.text}}</option>
                     {{}}}}
                 </select>
            </span>
        </div>
    </div>
    <div class="flex aui-margin-t-5">
        <div class="flex-item">
            <span >巡视备注：</span>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <span class="value"><textarea class="textarea"  id="inspectionMemo" placeholder="请输入内容"></textarea></span>
        </div>
    </div>
    <div class="flex aui-margin-t-5">
        <div class="flex-item">
            <span class="key" style="margin-top: 3rem">巡视时间：</span>
            &nbsp;&nbsp;&nbsp;&nbsp;
            <span class="value"><input type="text" style="font-size:0.7rem; width: 10rem; display: inline-block; padding: 0px 5px;" id="inspectionTime" placeholder="巡视时间"  value="{{=it.time}}" readonly></span>
        </div>
    </div>
    <div class="flex aui-margin-t-5">
        <div class="flex-item">
            <span class="key">巡&nbsp;&nbsp;视&nbsp;&nbsp;人：</span>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <span>{{=it.nurseName}}</span>
        </div>
    </div>
    <div class=" aui-text-center aui-margin-t-15">
        <div class="btn aui-btn aui-btn-success" onclick="tourRecordsExecute();"><span class="aui-iconfont aui-icon-correct"></span>保存</div>
    </div>
</script>

<!--皮试结果-->
<script id="skinTestList" type="text/template">
    {{
    if(it){
        var currentPerson = $api.getStorage(storageKey.currentPerson);
        for(var i=0;i<it.length;i++) {
        var item = it[i];
    }}
    {{?!isEmpty(item.skinResult)}}
    <div class="item skinTestGreen border-green aui-font-size-14" id="skinTest{{=item.medAdviceId}}" name="{{=item.id}}" onclick="SkinTestSelect('{{=item.implementTime}}','{{=item.medAdviceId}}',false)">
        {{??}}
            <div class="item border-green aui-font-size-14"  id="skinTest{{=item.medAdviceId}}" name="{{=item.id}}" onclick="SkinTestSelect( '{{=item.implementTime}}','{{=item.medAdviceId}}',true)">
        {{?}}
        <div class="rowItem">
            <span>{{=currentPerson.medBedName||''}}床 </span>
            <span style="margin-right: 3rem">{{=currentPerson.name||''}}</span>
        </div>
        <div class="rowItem">
            <span>医嘱内容：</span>
            <span>{{=item.medAdviceName||''}}</span>
        </div>
        <div class="rowItem">
            <span>皮试备注：</span>
            <span>{{=item.skinMemo||''}}</span>
        </div>
        <div class="rowItem">
            <span>执行人：</span>
            <span>{{=item.implementNurseName||''}}</span>
        </div>
        <div class="rowItem">
            <span>生效时间：</span>
            <span>{{=item.implementTime||''}}</span>
        </div>
        {{?item.skinResult}}
        {{??}}
                {{
                if((Date.now()-new Date(item.remindTime))>0){
                }}
                <div class="rowItem" style="color: red">
                    {{ }else{}}
                    <div class="rowItem">
                        {{ }}}
                        <span>提醒时间：</span>
                        <span>{{=item.remindTime||''}}</span>
                    </div>
        {{?}}
        <div class="rowItem">
            <span>皮试结果：</span>
            <span>{{=item.skinResult||''}}</span>
        </div>
        <div class="rowItem">
            <span>录入人：</span>
            <span>{{=item.inputNurseName||''}}</span>
        </div>
        <div class="rowItem">
            <span>录入时间：</span>
            <span>{{=item.inputTime||''}}</span>
        </div>
    </div>
    {{ } }}
    {{ } }}
</script>

<script type="text/javascript" src="../script/api.js"></script>
<script type="text/javascript" src="../script/config.js"></script>
<script type="text/javascript" src="../script/common.js"></script>
<script type="text/javascript" src="../script/aui-tab.js"></script>
<script type="text/javascript" src="../script/doT.min.js"></script>
<script type="text/javascript" src="../script/zepto.min.js"></script>
<script type="text/javascript" src="../script/medicalAdviceExecution.js"></script>
</body>
</html>
