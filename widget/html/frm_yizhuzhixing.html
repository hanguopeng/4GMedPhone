<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content=
            "maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,initial-scale=1.0,width=device-width"/>
    <meta name="format-detection" content="telephone=no,email=no,date=no,address=no">
    <title>医嘱执行</title>
    <link rel="stylesheet" type="text/css" href="../css/aui.css"/>
    <link rel="stylesheet" type="text/css" href="../css/common.css"/>
    <link rel="stylesheet" type="text/css" href="../css/medicalAdviceExecution.css"/>
</head>
<body>
<div class="bodyContainer">
    <div class="aui-tab" id="tab">
        <div class="aui-tab-item aui-active" id="tab-yzd" data-to="yzd" onclick="changeTab(this);">医嘱单</div>
        <div class="aui-tab-item" id="tab-dzx" data-to="dzx" onclick="changeTab(this);">待执行</div>
        <div class="aui-tab-item" id="tab-yzx" data-to="yzx" onclick="changeTab(this);">已执行</div>
        <div class="aui-tab-item" id="tab-psgc" data-to="psgc" onclick="changeTab(this);">皮试观察</div>
    </div>
    <div class="tabBody">
        <!--医嘱单-->
        <div id="yzd" class="active tab-body-item aui-padded-t-10 aui-font-size-14 aui-padded-l-15 aui-padded-r-10">
            <div class="doctorAdviceStatus aui-padded-b-15">
                <div style="background-color: #6F6F6F;color: #fff;" class="aui-label aui-margin-r-10 aui-padded-10">已停医嘱</div>
                <div class="aui-label aui-label-primary aui-margin-r-10 aui-padded-10">其他状态</div>
                <div class="aui-label aui-label-danger aui-margin-r-10 aui-padded-10">新开医嘱</div>
                <div style="clear: both;"></div>
            </div>
            <div class="itemContainer" id="yzdContentContainer">

            </div>
        </div>
        <!--待执行 -->
        <div id="dzx" class="tab-body-item aui-padded-t-10 aui-font-size-14 aui-padded-l-15 aui-padded-r-10">
            <div class="aui-font-size-14 aui-padded-5">当前时间以前一天及以后1个小时内，所有未执行医嘱执行记录</div>
            <div class="itemContainer" id="dzxContentContainer">

            </div>
            <div class="bottomContainer">
                <div id="shaiXuan" class="bottomBody aui-padded-15">
                    <div class="flex aui-margin-t-5">
                        <div class="flex-item">
                            <span class="key">医嘱优先级:</span>
                            <span class="value">
                                 <select class="input" id="dzx-yzyxj">
                                    <option value="">请选择</option>
                                    <option value="0">长期医嘱</option>
                                    <option value="1">临时医嘱</option>
                                     <!--<option value="输液">输液</option>
                                      <option value="口服药物">口服药物</option>-->
                                 </select>
                            </span>
                        </div>
                        <!--<div class="flex-item">
                            <span class="key">用药途径:</span>
                            <span class="value">
                                <select class="input" id="dzx-yytj">
                                    <option value="">请选择</option>
                                    <option value="">皮下</option>
                                    <option value="">口服</option>
                                    <option value="">注射</option>
                                 </select>
                            </span>
                        </div>-->
                    </div>
                    <div class="flex aui-margin-t-5">
                        <div class="flex-item">
                            <span class="key">医嘱处方大类:</span>
                            <span class="value">
                                   <input id="dzx-yzcfdl" type="text" class="input">
                            </span>
                        </div>
                    </div>
                    <div class="flex aui-margin-t-5">
                        <div class="flex-item">
                            <span class="key">医嘱时间:</span>
                            <span class="value"><input class="input" onclick="picker(this)" type="text" placeholder="医嘱时间" id="dzx-yzsj-begin"></span>
                            <span>/</span>
                            <span class="value"><input class="input" onclick="picker(this)" type="text" placeholder="医嘱时间" id="dzx-yzsj-end"></span>
                        </div>
                    </div>
                    <div class="flex aui-margin-t-5">
                        <div class="flex-item">
                            <span class="key">要求执行时间:</span>
                            <span class="value"><input class="input" onclick="picker(this)" type="text" placeholder="要求执行时间" id="dzx-yqzxsj-begin"></span>
                            <span>/</span>
                            <span class="value"><input class="input" onclick="picker(this)" type="text" placeholder="要求执行时间" id="dzx-yqzxsj-end"></span>
                        </div>
                    </div>
                    <div class="aui-text-center aui-margin-t-15">
                        <div class="btn aui-btn aui-btn-success" onclick="waitExecuteDoctorAdvice();">确定</div>
                    </div>
                </div>
                <div id="zhiXing" class="bottomBody aui-padded-15 active">

                </div>
                <div class="bottomBtn aui-font-size-16 flex">
                    <div class="btn flex-item border-right" onclick="clickBottomTab('dzx','shaiXuan');">筛选</div>
                    <!--<div class="btn flex-item" onclick="clickBottomTab('dzx','zhiXing');">执行</div>-->
                </div>
            </div>
        </div>
        <!--已执行  医嘱执行时间在6个小时内的医嘱执行记录。-->
        <div id="yzx" class="tab-body-item aui-padded-t-10 aui-font-size-14 aui-padded-l-15 aui-padded-r-10">
            <div class="aui-font-size-14 aui-padded-5">医嘱执行时间在6个小时内的医嘱执行记录</div>
            <div class="itemContainer" id="yzxContentContainer">

            </div>
            <div class="bottomContainer">
                <div id="yzx-shaiXuan" class="bottomBody aui-padded-15">
                    <div class="flex aui-margin-t-5">
                        <div class="flex-item">
                            <span class="key">医嘱优先级:</span>
                            <span class="value">
                                 <select class="input" id="yzx-yzyxj">
                                    <option value="">请选择</option>
                                    <option value="0">长期医嘱</option>
                                    <option value="1">临时医嘱</option>
                                     <!-- <option value="输液">输液</option>
                                       <option value="口服药物">口服药物</option>-->
                                 </select>
                            </span>
                        </div>
                        <!--<div class="flex-item">
                            <span class="key">用药途径:</span>
                            <span class="value">
                                <select class="input" id="yzx-yytj">
                                    <option value="">请选择</option>
                                    <option value="皮下">皮下</option>
                                    <option value="口服">口服</option>
                                    <option value="注射">注射</option>
                                 </select>
                            </span>
                        </div>-->
                    </div>
                    <div class="flex aui-margin-t-5">
                        <div class="flex-item">
                            <span class="key">医嘱处方大类:</span>
                            <span class="value">
                                <input id="yzx-yzcfdl" type="text" class="input">
                            </span>
                        </div>
                    </div>
                    <div class="flex aui-margin-t-5">
                        <div class="flex-item">
                            <span class="key">医嘱时间:</span>
                            <span class="value"><input class="input" type="text" onclick="picker(this)" placeholder="医嘱时间" id="yzx-yzsj-begin"></span>
                            <span>/</span>
                            <span class="value"><input class="input" type="text" onclick="picker(this)" placeholder="医嘱时间" id="yzx-yzsj-end"></span>
                        </div>
                    </div>
                    <div class="flex aui-margin-t-5">
                        <div class="flex-item">
                            <span class="key">执行时间:</span>
                            <span class="value"><input class="input" type="text" onclick="picker(this)" placeholder="要求执行时间" id="yzx-yqzxsj-begin"></span>
                            <span>/</span>
                            <span class="value"><input class="input" type="text" onclick="picker(this)" placeholder="要求执行时间" id="yzx-yqzxsj-end"></span>
                        </div>
                    </div>
                    <div class="aui-text-center aui-margin-t-15">
                        <div class="btn aui-btn aui-btn-success" onclick="hadExecuteDoctorAdvice();">确定</div>
                    </div>
                </div>
                <div id="shuyexunshi" class="bottomBody aui-padded-15 active">

                </div>
                <div class="bottomBtn aui-font-size-16 flex">
                    <div class="btn flex-item border-right" onclick="clickBottomTab('yzx','yzx-shaiXuan');">筛选</div>
                    <!--<div class="btn flex-item" onclick="clickBottomTab('yzx','shuyexunshi');">输液巡视</div>-->
                </div>
            </div>
        </div>
        <!--皮试观察-->
        <div id="psgc" class="tab-body-item aui-padded-t-10 aui-font-size-14 aui-padded-l-15 aui-padded-r-10">
            <div class="itemContainer" id="psgcContentContainer">

            </div>
            <div class="bottomContainer">
                <div id="psgc-shaiXuan" class="bottomBody aui-padded-15">
                    <div class="flex aui-margin-t-5">
                        <div class="flex-item">
                            <span class="key">要求执行时间:</span>
                            <span class="value"><input class="input" type="text" onclick="picker(this)" placeholder="要求执行时间" id="psgc-yqzxsj-begin"></span>
                            <span>/</span>
                            <span class="value"><input class="input" type="text" onclick="picker(this)" placeholder="要求执行时间" id="psgc-yqzxsj-end"></span>
                        </div>
                    </div>
                    <div class="aui-text-center aui-margin-t-15">
                        <div class="btn aui-btn aui-btn-success" onclick="psgcRecord();">确定</div>
                    </div>
                </div>
                <div id="lurujieguo" class="bottomBody aui-padded-15 active">

                </div>
                <div class="bottomBtn aui-font-size-16 flex">
                    <div class="btn flex-item border-right" onclick="clickBottomTab('psgc','psgc-shaiXuan');">筛选</div>
                    <div class="btn flex-item" onclick="clickBottomTab('psgc','lurujieguo');">录入结果</div>
                </div>
            </div>
        </div>
    </div>
</div>
<!--医嘱单-->
<script id="yzlTmplList" type="text/template">
    {{
    for(var i=0;i<it.length;i++) {
    var item = it[i];
    var itemStatusClass = "yzxyz";
    }}
    {{ if(item.statusCode&&item.statusCode=='1'){ }}
    <div class="item xkyz">
        {{ }else if(item.statusCode&&item.statusCode=='8'){ }}
        <div class="item ytyz">
            {{ } else{ }}
            <div class="item yzxyz">
                {{  } }}

                <!--<div class="item xkyz">
                <div class="item ytyz">-->
                <div class="leftTop">
                    <div class="aui-font-size-12">{{=''}}</div>
                </div>
                <div class="rowItem">
                    <span>{{=item.adviceName}}</span>
                    <span class="useAmount">－－－{{=item.dosage||''}}</span>
                </div>
                <div class="rowItem">
                    <span>医嘱日期：</span>
                    <span>{{=item.beginTime}}</span>
                    <span class="btn">
                <div class="aui-label aui-padded-5">ONCE</div>
            </span>
                </div>
                <div class="rowItem">
                    <span>开医嘱医生：</span>
                    <span>{{=item.beginDoctorName||'-'}}</span>
                </div>
                <div class="rowItem">
                    <span>医嘱状态：</span>
                    <span>{{=item.statusName||'-'}}</span>
                </div>

            </div>
            {{ } }}
</script>
<!--待执行医嘱查询-->
<script id="dzxTmplList" type="text/template">
    {{
    if(it){
    for(var i=0;i < it.length ;i++) {
                            var item = it[i];
                            var imstr = JSON.stringify(item).replace(/"/g,'&quot;');
                            }}
    <div class="item yzxyz" onclick="showExecuteDoctorAdviceWindow('{{=imstr}}');">
        <div class="leftTop">
            <div class="aui-font-size-12">{{=""}}</div>
        </div>
        <div class="rowItem">
            <span>{{=item.adviceName||""}} ({{=item.unit||""}})</span>
            <span class="useAmount">－－－{{=item.dosage||""}}</span>
        </div>
        <div class="rowItem">
            <span>医嘱日期：</span>
            <span>{{=item.beginTime||""}}</span>
            <span class="btn">
                <div class="aui-label aui-padded-5">{{=item.frequency||""}}</div>
            </span>
        </div>
        <div class="rowItem">
            <span>开医嘱医生：</span>
            <span>{{=item.beginDoctorName||''}}</span>
        </div>
        <div class="rowItem">
            <span>要求执行时间：</span>
            <span>{{=item.requireExecuteTime||''}}</span>
        </div>
    </div>
    {{ } }}
    {{ } }}
</script>
<!--待执行医嘱 执行-->
<script id="dzxExecuteTmplList" type="text/template">
    <div class="topInfo">
        <div class="rowItem aui-margin-b-5">
            <span>{{=it.adviceName||""}} ({{=""}})</span>
            <span class="f-right">－－－{{=it.dosage||""}}</span>
        </div>
        <div class="rowItem aui-margin-b-5">
            <span>医嘱日期:</span>
            <span>{{=it.createTime||""}}</span>
            <span class="f-right">
                <span>频次:</span>
                <span>{{=it.frequency||""}}</span>
            </span>
        </div>
        <div class="rowItem aui-margin-b-5">
            <span>开医嘱医生：</span>
            <span>{{=it.beginDoctorName||''}}</span>
            <span class="f-right">
                <span>用药途径:</span>
                <span>{{=it.usage||""}}</span>
            </span>
        </div>
    </div>
    <div class="implementResult flex">
        <div class="aui-text-left aui-margin-r-15">执行结果:</div>
        <div class="flex-item aui-text-left">
            <span><input type="radio" value="0" name="implementResult"> 未执行</span>
            <span><input type="radio" value="1" name="implementResult"> 完全执行</span>
            <span><input type="radio" value="2" name="implementResult"> 拒绝执行</span>
            <span><input type="radio" value="3" name="implementResult"> 正在执行</span>
        </div>
    </div>
    <div class="bottomMemo flex">
        <div class="aui-text-left aui-margin-r-15">备注:</div>
        <div class="flex-item">
            <textarea class="aui-padded-5" name="" id="memo" cols="30" rows="11"></textarea>
        </div>
        <div class="flex-item aui-text-right">
            <div class="btn aui-btn aui-btn-success" onclick="executeDoctorAdvice('{{=it.id}}','true');">关联执行</div>
            <div class="btn aui-btn aui-btn-success aui-margin-t-15" onclick="executeDoctorAdvice('{{=it.id}}','false');">单条执行</div>
        </div>
    </div>
</script>
<!--已执行查询-->
<script id="yzxTmplList" type="text/template">
    {{
    if(it){
    for(var i=0;i<it.length;i++) {
    var item = it[i];
    var imstr = JSON.stringify(item).replace(/"/g, '&quot;');
    }}
    <div class="item yzxyz" onclick="showHadExecuteDoctorAdviceWindow('{{=imstr}}');">
        <div class="leftTop">
            <div class="aui-font-size-12">{{=""}}</div>
        </div>
        <div class="rowItem">
            <span>{{=item.adviceName||""}} {{=item.unit||""}}</span>
            <span class="useAmount">－－－{{=item.dosage||""}}</span>
        </div>
        <div class="rowItem">
            <span>医嘱日期：</span>
            <span>{{=item.createTime||""}}</span>
            <span class="btn">
                <div class="aui-label aui-padded-5">{{=item.frequency||""}}</div>
            </span>
        </div>
        <div class="rowItem">
            <span>开医嘱医生：</span>
            <span>{{=item.beginDoctorName||''}}</span>
        </div>
        <div class="rowItem">
            <span>要求执行时间：</span>
            <span>{{=item.requireExecuteTime||''}}</span>
        </div>
        <div class="rowItem">
            <span>执行时间：</span>
            <span>{{=item.executeTime||""}}</span>
        </div>
        <div class="rowItem">
            <span>执行人：</span>
            <span>{{=item.executeUserName||""}}</span>
        </div>
    </div>
    {{ } }}
    {{ } }}
</script>
<!--已执行输液巡视-->
<script id="yzxSyxsTmpl" type="text/template">
    <div class="topInfo">
        <div class="flex aui-margin-b-5">
            <div class="flex-item">
                <span class="key">滴速:</span>
                <span class="value"><input class="input" id="yzx-ds" type="number" placeholder="（滴/分）"></span>
            </div>
            <div class="flex-item">
                <span class="key">动作:</span>
                <span class="value">
                    <select class="input" id="yzx-dz">
                        <option value="">请选择</option>
                        <option value="">巡视</option>
                        <option value="">拔针</option>
                        <option value="">换药</option>
                    </select>
                </span>
            </div>
        </div>
        <div class="rowItem aui-margin-b-5">
            <span>巡视时间:</span>
            <span id="yzx-xssj">{{=it.currentTime||""}}</span>
            <span class="f-right">
                <span>巡视人:</span>
                <span id="yzx-xsr">{{=it.xsr||""}}</span>
            </span>
        </div>
        <div class="rowItem aui-margin-b-5">
            <span>开医嘱医生：</span>
            <span>{{=it.beginDoctorName||''}}</span>
            <span class="f-right">
                <span>用药途径:</span>
                <span>{{=it.usage||""}}</span>
            </span>
        </div>
        <div class="flex aui-margin-b-5">
            <div class="flex-item aui-text-left">
                <span class="key">备注:</span>
                <span class="value">
                    <textarea class="aui-padded-5" id="yzx-memo" name="" cols="30" rows="11"></textarea>
                </span>
            </div>
        </div>
        <div class="flex-item aui-text-right">
            <div class="btn aui-btn aui-btn-success" onclick="executeSyxs('{{=it.id}}','true');">确定</div>
        </div>
    </div>
</script>
<!--皮试观察列表-->
<script id="psgcTmplList" type="text/template">
    {{
    if(it){
    for(var i=0;i<it.length;i++) {
    var item = it[i];
    }}
    <div class="item yzxyz" onclick="showPsgcAdviceWindow('');">
        <div class="leftTop">
            <div class="aui-font-size-12"></div>
        </div>
        <div class="rowItem">
            <span>{{=item.skinTestName ||""}}皮试</span>
        </div>
        <div class="rowItem">
            <span>执行时间：</span>
            <!--<span>{{=item.skinTestExecuteTime ||""}}</span>-->
            <span class="f-right">
                 <span>执行人：</span>
                <!--<span>{{=item.executeUserName||""}}</span>-->
            </span>
        </div>
        <div class="rowItem">
            <span>提醒时间：</span>
            <!--<span>{{=item.skinTestWarnTime }}</span>-->
        </div>
        <div class="rowItem">
            <span>皮试结果：</span>
            <span>{{=item.skinTestRemark }}</span>
        </div>
        <!--<div class="rowItem">
            <span>录入时间：</span>
            <span>{{=item.createTime||""}}</span>
        </div>
        <div class="rowItem">
            <span>录入人：</span>
            <span>{{=item.beginDoctorName}}</span>
        </div>-->
    </div>
    {{ } }}
    {{ } }}
</script>
<!--皮试实行-->
<!--<script id="psgcExecuteTmplList" type="text/template">
    <div class="lurujieguo flex">
        <div class="aui-text-left aui-margin-r-15">执行结果:</div>
        <div class="flex-item aui-text-left">
            <span class="aui-margin-l-15"><input type="radio" checked name="阳性"> 阳性</span>
            <span class="aui-margin-l-15"><input type="radio" name="阴性"> 阴性</span>
        </div>
    </div>
    <div class="flex aui-margin-b-5">
        <div class="flex-item aui-text-left">
            <span class="key">备注:</span>
            <span class="value">
                    <textarea class="aui-padded-5" id="psgc-memo" name="" cols="30" rows="11"></textarea>
                </span>
        </div>
    </div>
    <div class="aui-text-center aui-margin-t-15">
        <div class="btn aui-btn aui-btn-success" onclick="psgcExecute('{{=it.id}}');">确定</div>
    </div>
</script>-->


<script type="text/javascript" src="../script/api.js"></script>
<script type="text/javascript" src="../script/config.js"></script>
<script type="text/javascript" src="../script/common.js"></script>
<script type="text/javascript" src="../script/aui-tab.js"></script>
<script type="text/javascript" src="../script/doT.min.js"></script>
<script type="text/javascript" src="../script/zepto.min.js"></script>
<script type="text/javascript" src="../script/medicalAdviceExecution.js"></script>
</body>
</html>
