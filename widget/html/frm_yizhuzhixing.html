<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content=
            "maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,initial-scale=1.0,width=device-width"/>
    <meta name="format-detection" content="telephone=no,email=no,date=no,address=no">
    <title>医嘱执行</title>
    <link rel="stylesheet" type="text/css" href="../css/aui.css"/>
    <link rel="stylesheet" type="text/css" href="../css/common.css"/>
    <link rel="stylesheet" type="text/css" href="../css/medicalAdviceExecution.css"/>
</head>
<body>
<div class="bodyContainer">
    <div class="aui-tab" id="tab">
        <div class="aui-tab-item" id="tab-advice-records" data-to="advice-records" onclick="changeTab(this);">医嘱记录</div>
        <div class="aui-tab-item" id="tab-advice-sends" data-to="advice-sends" onclick="changeTab(this);">医嘱发送</div>
        <div class="aui-tab-item" id="tab-advice-execute" data-to="advice-execute" onclick="changeTab(this);">医嘱执行</div>
        <div class="aui-tab-item" id="tab-skin-test" data-to="skin-test" onclick="changeTab(this);">皮试结果</div>
    </div>
    <div class="tabBody">
        <!--医嘱记录-->
        <div id="advice-records" class="tab-body-item aui-padded-t-10 aui-font-size-14 ">
            <div class="aui-padded-l-15" id="advice-records-header">
                <label><input class="aui-margin-t-5 " name="inUse" id="inUse" type="checkbox" tapmode  onchange="adviceRecords()" checked> 在用医嘱</label>
                <label id="nonArrivalLabel" class="hide"><input class="aui-margin-t-5 " name="nonArrival" id="nonArrival" type="checkbox" tapmode  onchange="adviceRecords()" checked>未到终止时间</label>
                <label><input class="aui-margin-t-5 " name="longTermAdvice" id="longTermAdvice" type="checkbox" tapmode  onchange="adviceRecords()"> 长嘱</label>
                <label><input class="aui-margin-t-5 " name="temporaryAdvice" id="temporaryAdvice" type="checkbox" tapmode  onchange="adviceRecords()"> 临嘱</label>
                <div class="aui-btn" style="background: #38afe6;float: right;margin-right: 0.5rem;margin-top: -5px" onclick="clickBottomTab('advice-records','adviceRecords-selector');">筛选</div>
            </div>
            <div class="itemContainer" id="adviceRecordsContentContainer">
            </div>
            <div class="bottomContainer aui-font-size-14">
                <div id="adviceRecords-selector" class="bottomBody aui-padded-15" style="bottom: 0rem;padding: 0.75rem 0">
                </div>
            </div>
        </div>
        <!--医嘱发送-->
        <div id="advice-sends" class="tab-body-item aui-padded-t-10 aui-font-size-14 ">
            <div class="aui-padded-l-15" id="advice-sends-header">
                <label><input class="aui-margin-t-5 " name="inUse1" id="inUse1" type="checkbox" tapmode  onchange="adviceRecordsForAdviceSends()" checked> 在用医嘱</label>
                <label id="nonArrivalLabel1" class="hide"><input class="aui-margin-t-5 " name="nonArrival1" id="nonArrival1" type="checkbox" tapmode  onchange="adviceRecordsForAdviceSends()" checked> 未到终止时间</label>
                <label><input class="aui-margin-t-5 " name="longTermAdvice1" id="longTermAdvice1" type="checkbox" tapmode  onchange="adviceRecordsForAdviceSends()"> 长嘱</label>
                <label><input class="aui-margin-t-5 " name="temporaryAdvice1" id="temporaryAdvice1" type="checkbox" tapmode  onchange="adviceRecordsForAdviceSends()"> 临嘱</label>
                <div class="aui-btn" style="background: #38afe6;float: right;margin-right: 0.5rem;margin-top: -5px" onclick="clickBottomTab('advice-sends','adviceSends-selector');">筛选</div>
            </div>
            <div class="itemContainer" id="adviceSendsContentContainer">
            </div>
            <div class="bottomContainer aui-font-size-14">
                <div id="adviceSends-selector" class="bottomBody aui-padded-15" style="bottom: 0rem;padding: 0.75rem 0">
                </div>
            </div>
            <!--<div class="bottomContainer aui-font-size-14">-->
                <!--<div id="adviceSends-selector" class="bottomBody aui-padded-15">-->
                    <!--<div class="flex aui-margin-t-5">-->
                        <!--<div class="flex-item">-->
                            <!--<span class="key">发送时间：&nbsp; </span>-->
                            <!--<span class="value"><input class="adviceInputLong" type="text" onclick="pickerWithTime(this)" placeholder="请输入内容" id="sendTimeStart"></span>-->
                            <!--<span>&nbsp;&nbsp;至&nbsp;&nbsp; </span>-->
                            <!--<span class="value"><input class="adviceInputLong" type="text" onclick="pickerWithTime(this)" placeholder="请输入内容" id="sendTimeEnd"></span>-->
                        <!--</div>-->
                    <!--</div>-->
                    <!--<div class="flex aui-margin-t-5">-->
                        <!--<div class="flex-item">-->
                            <!--<span class="key">首次时间：&nbsp; </span>-->
                            <!--<span class="value"><input class="adviceInputLong" type="text" onclick="pickerWithTime(this)" placeholder="请输入内容" id="firstTimeStart"></span>-->
                            <!--<span>&nbsp;&nbsp;至&nbsp;&nbsp; </span>-->
                            <!--<span class="value"><input class="adviceInputLong" type="text" onclick="pickerWithTime(this)" placeholder="请输入内容" id="firstTimeEnd"></span>-->
                        <!--</div>-->
                    <!--</div>-->
                    <!--<div class="flex aui-margin-t-5">-->
                        <!--<div class="flex-item">-->
                            <!--<span class="key">末次时间：&nbsp; </span>-->
                            <!--<span class="value"><input class="adviceInputLong" type="text" onclick="pickerWithTime(this)" placeholder="请输入内容" id="lastTimeStart"></span>-->
                            <!--<span>&nbsp;&nbsp;至&nbsp;&nbsp;</span>-->
                            <!--<span class="value"><input class="adviceInputLong" type="text" onclick="pickerWithTime(this)" placeholder="请输入内容" id="lastTimeEnd"></span>-->
                        <!--</div>-->
                    <!--</div>-->
                    <!--<div class="flex aui-margin-t-5" id="advice-header">-->
                        <!--<label style="margin-left: 3rem"><input class="aui-margin-t-5"  id="changzhu" type="checkbox"> 长嘱</label>-->
                        <!--&nbsp;&nbsp;&nbsp;&nbsp;-->
                        <!--<label style="margin-right: 4rem"><input class="aui-margin-t-5"  id="linzhu" type="checkbox"> 临嘱</label>-->
                    <!--</div>-->
                    <!--<div class="aui-text-center aui-margin-t-15">-->
                        <!--<div class="btn aui-btn aui-btn-success" onclick="adviceSends();">确定</div>-->
                        <!--<div class="btn aui-btn aui-btn-success" style="margin-left: 1rem" tapmode onclick="adviceSendsReset();">重置</div>-->
                    <!--</div>-->
                <!--</div>-->
                <!--<div class="bottomBtn aui-font-size-16 flex">-->
                    <!--<div class="btn flex-item border-right" onclick="clickBottomTab('advice-sends','adviceSends-selector');">筛选</div>-->
                <!--</div>-->
            <!--</div>-->
        </div>
        <!--医嘱执行 -->
        <div id="advice-execute" class="tab-body-item aui-padded-t-10 aui-font-size-14  ">
            <div class="aui-padded-l-15"  id="advice-execute-header">
                <label><input class="aui-margin-t-5 " name="longTermAdvice2" id="longTermAdvice2" type="checkbox" tapmode  onchange="adviceExecute()"> 长嘱</label>
                <label><input class="aui-margin-t-5 " name="temporaryAdvice2" id="temporaryAdvice2" type="checkbox" tapmode  onchange="adviceExecute()"> 临嘱</label>
                <div id="noDo" class="aui-btn show" style="background: #38afe6;float: right;margin-right: 0.5rem;margin-top: -5px" onclick="adviceExecute('change')">执行列表</div>
                <div id="done" class="aui-btn hide" style="background: #38afe6;float: right;margin-right: 0.5rem;margin-top: -5px" onclick="adviceExecute('change')">待执行</div>
            </div>
            <div class="itemContainer" id="adviceExecuteContentContainer">
            </div>
            <div class="bottomContainer aui-font-size-14">
                <div id="adviceExecute-dialog" class="bottomBody aui-padded-15" style="bottom: 0rem;padding: 0.75rem 0">
                </div>
            </div>
        </div>
        <!--皮试结果-->
        <div id="skin-test" class="tab-body-item aui-padded-t-10 aui-font-size-14 ">
            <div class="aui-padded-l-15" id="skinTest-header">
                <label><input class="aui-margin-t-5 " id="noInput" type="checkbox" onclick="skinTestRecord()" checked> 未录入</label>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                <label><input class="aui-margin-t-5 " id="alreadyInput" type="checkbox" onclick="skinTestRecord()"> 已录入</label>
            </div>
            <div class="itemContainer" id="skinTestContentContainer"></div>
            <div class="bottomContainer">
                <div id="skinTest-selector" class="bottomBody " style="padding: 0.75rem 0">
                    <div class="flex aui-margin-t-5">
                        <div class="flex-item">
                            <span class="key">医嘱生效时间： </span>
                            <span class="value"><input class="input" type="text" onclick="pickerWithTime(this)" placeholder="请输入内容" id="skin-test-begin-time"></span>
                            <span>&nbsp;&nbsp;至&nbsp;&nbsp;</span>
                            <span class="value"><input class="input" type="text" onclick="pickerWithTime(this)" placeholder="请输入内容" id="skin-test-end-time"></span>
                        </div>
                    </div>
                    <div class="aui-text-center aui-margin-t-15">
                        <div class="btn aui-btn aui-btn-success" onclick="skinTestRecord();">确定</div>
                        <div class="btn aui-btn aui-btn-success" style="margin-left: 1rem" tapmode onclick="skinTestRecordReset();">重置</div>
                    </div>
                </div>
                <div id="skinTest-result" class="bottomBody aui-padded-15">
                    <div class="aui-text-left aui-margin-t-15">
                        <span style="margin-left: 1.7rem">录入时间：</span><input style="width: 6rem" class="adviceInputLong" type="text" id="input_time"  onclick="choose(this)">
                    </div>
                    <div class="flex aui-margin-t-5">
                        <div class="flex-item">
                            <span class="key">皮试结果：</span>
                            <label><input class="aui-margin-t-15 aui-margin-l-15" type="radio" name="skinTestResult" value="1" checked>  阴性（-）</label>
                            <label><input class="aui-margin-t-15 aui-margin-l-15" type="radio" name="skinTestResult" value="2">  阳性（+）</label>
                        </div>
                    </div>
                    <div class="aui-text-center aui-margin-t-15">
                        <div class="btn aui-btn aui-btn-success" onclick="skinTestExecute();">保存</div>
                    </div>
                </div>
                <div class="bottomBtn aui-font-size-16 flex active">
                    <div class="btn flex-item border-right" onclick="clickBottomTab('skin-test','skinTest-selector');">筛选</div>
                    <div class="btn flex-item" onclick="clickBottomTab('skin-test','skinTest-result');">录入结果</div>
                </div>
            </div>
        </div>
    </div>
</div>

<!--医嘱记录-->
<script id="adviceRecordsTmplList" type="text/template">
    {{?it}}
    {{
    for(var i=0;i<it.length;i++) {
    var item = it[i];
    }}
    <div class="adviceRecordsTmplList aui-font-size-14" style="color:{{=item.fieldENName}}" onclick="changeAdviceShow(this)">
        <div class="left" >{{=item.priorityName}}</div>
        <div class="right">
            <div >
                <span>医嘱内容：</span>
                {{?item.dosage}}
                <span>{{=item.name||''}}，每次{{=item.dosage||''}}</span>
                {{??}}
                <span>{{=item.name||''}}</span>
                {{?}}
            </div>
            {{?item.sonBoList}}
            {{for(var j=0;j<item.sonBoList.length;j++) {
            }}
            <div  style="color: red;">
                <span>医嘱内容{{=(j+1)}}：</span>
                {{?item.sonBoList[j].dosage}}
                <span>{{=item.sonBoList[j].name||''}}，每次{{=item.sonBoList[j].dosage||''}}</span>
                {{??}}
                <span>{{=item.sonBoList[j].name||''}}</span>
                {{?}}
            </div>
            {{}}}
            {{?}}
            <div>
                <span>生效时间：</span>
                <span>{{=item.adviceStart||''}}</span>
            </div>
            <div>
                <span>用法：</span>
                <span>{{=item.usageName||''}}</span>
            </div>
            <div>
                <span>医生托嘱：</span>
                <span>{{=item.entrustment||''}}</span>
            </div>
            <div>
                <span>执行科室：</span>
                <span>{{=item.acceptOrgName||''}}</span>
            </div>
            <div>
                <span>开嘱医生：</span>
                <span>{{=item.doctorName||''}}</span>
            </div>
            <div>
                <span>开嘱时间：</span>
                <span>{{=item.foundTime||''}}</span>
            </div>

        </div>
    </div>
    <div id="detail" class="detail hide" onclick="changeThisShow(this)">
        <div>
            <span>总量：</span>
            <span>{{=item.num||''}}</span>
        </div>
        <div>
            <span>单量：</span>
            <span>{{=item.dosage||''}}</span>
        </div>
        <div>
            <span>天数：</span>
            <span>{{=item.dateNum||''}}</span>
        </div>
        <div>
            <span>频率：</span>
            <span>{{=item.frequencyName||''}}</span>
        </div>
        <div>
            <span>执行时间：</span>
            <span>{{=item.executionTime||''}}</span>
        </div>
        <div>
            <span>执行性质：</span>
            <span>{{=item.executiveNature||''}}</span>
        </div>
        <div>
            <span>上次执行：</span>
            <span>{{=item.lastExcecutiveTime||''}}</span>
        </div>
        <div>
            <span>状态：</span>
            <span>{{=item.statusName||''}}</span>
        </div>
        <div>
            <span>校对护士：</span>
            <span>{{=item.nurseName||''}}</span>
        </div>
        <div>
            <span>校对时间：</span>
            <span>{{=item.checkTime||''}}</span>
        </div>
        <div>
            <span>停嘱医生：</span>
            <span>{{=item.stopDocName||''}}</span>
        </div>
        <div>
            <span>停嘱时间：</span>
            <span>{{=item.stopTime||''}}</span>
        </div>
        <div>
            <span>确认停嘱时间：</span>
            <span>{{=item.stopConfirm||''}}</span>
        </div>
        <div>
            <span>基本药物：</span>
            <span>{{=item.drugs||''}}</span>
        </div>
    </div>
    {{ } }}
    {{?}}
</script>
<!--医嘱列表筛选-->
<script id="selectAdviceRecords" type="text/template">
    <div class="flex aui-margin-t-5" >
        <div class="flex-item">
            <span class="key">病案费目：</span>
            <span class="value">
                 <select class="select" style="width:4rem" id="typeCode">
                      <option value="" id="typeCodeOne">请选择</option>
                     {{
                        if(it.adviceType){
                            for(var i=0;i<it.adviceType.length;i++) {
                            var item = it.adviceType[i];
                            }}
                        <option value="{{=item.code}}">{{=item.text}}</option>
                     {{}}}}
                 </select>
            </span>
        </div>
    </div>
    <div class="flex aui-margin-t-5">
        <div class="flex-item">
            <span class="key">医嘱状态：</span>
            <span class="value">
                 <select class="select" id="status" style="width: 5.2rem">
                      <option value="" id="statusOne">请选择</option>
                     {{
                        if(it.adviceStatus){
                            for(var i=0;i<it.adviceStatus.length;i++) {
                            var item = it.adviceStatus[i];
                            }}
                        <option value="{{=item.code}}">{{=item.text}}</option>
                     {{}}}}
                 </select>
            </span>
        </div>
    </div>
    <div class="flex aui-margin-t-5">
        <div class="flex-item">
            <span class="key">开嘱时间：</span>
            <span class="value"><input class="adviceInputLong" type="text" onclick="pickerWithTime(this)" placeholder="请输入内容" id="foundTimeBegin"></span>
            <span>&nbsp;&nbsp;至&nbsp;&nbsp; </span>
            <span class="value"><input class="adviceInputLong" type="text" onclick="pickerWithTime(this)" placeholder="请输入内容" id="foundTimeEnd"></span>
        </div>
    </div>
    <div class="flex aui-margin-t-5">
        <div class="flex-item">
            <span class="key">上次执行：</span>
            <span class="value"><input class="adviceInputLong" type="text" onclick="pickerWithTime(this)" placeholder="请输入内容" id="lastExcecutiveTimeBegin"></span>
            <span>&nbsp;&nbsp;至&nbsp;&nbsp;</span>
            <span class="value"><input class="adviceInputLong" type="text" onclick="pickerWithTime(this)" placeholder="请输入内容" id="lastExcecutiveTimeEnd"></span>
        </div>
    </div>
    <div class="aui-text-center aui-margin-t-15">
        <div class="btn aui-btn aui-btn-success" onclick="adviceRecords('select');">确定</div>
        <div class="btn aui-btn aui-btn-success" style="margin-left: 1rem" tapmode onclick="adviceRecordsReset();">重置</div>
    </div>
</script>
<!--医嘱发送记录新-->
<script id="adviceSendsTmplList" type="text/template">
    {{?it}}
    {{
    for(var i=0;i<it.length;i++) {
    var item = it[i];
    }}
    <div class="adviceRecordsTmplList aui-font-size-14 noDetail"   style="color:{{=item.fieldENName}}"  onclick="adviceSendsDetail(this,{{=item.id}})">
        <div class="left" >{{=item.priorityName}}</div>
        <div class="right" >
            <div>
                <span>医嘱内容：</span>
                {{?item.dosage}}
                <span>{{=item.name||''}}，每次{{=item.dosage||''}}</span>
                {{??}}
                <span>{{=item.name||''}}</span>
                {{?}}
            </div>
            {{?item.sonBoList}}
            {{for(var j=0;j<item.sonBoList.length;j++) {
            }}
            <div  style="color: red;">
                <span>医嘱内容{{=(j+1)}}：</span>
                {{?item.sonBoList[j].dosage}}
                <span>{{=item.sonBoList[j].name||''}}，每次{{=item.sonBoList[j].dosage||''}}</span>
                {{??}}
                <span>{{=item.sonBoList[j].name||''}}</span>
                {{?}}
            </div>
            {{}}}
            {{?}}
            <div>
                <span>生效时间：</span>
                <span>{{=item.adviceStart||''}}</span>
            </div>
            <div>
                <span>用法：</span>
                <span>{{=item.usageName||''}}</span>
            </div>
            <div>
                <span>医生托嘱：</span>
                <span>{{=item.entrustment||''}}</span>
            </div>
            <div>
                <span>执行科室：</span>
                <span>{{=item.acceptOrgName||''}}</span>
            </div>
            <div>
                <span>开嘱医生：</span>
                <span>{{=item.doctorName||''}}</span>
            </div>
            <div>
                <span>开嘱时间：</span>
                <span>{{=item.foundTime||''}}</span>
            </div>
        </div>
    </div>
    <div id="adviceSendsDetail{{=item.id}}"  onclick="closeDetail(this)"></div>
    {{ } }}
    {{?}}
</script>
<!--新医嘱发送记录详情-->
<script id="adviceSendsDetail" type="text/template">
    {{?it}}
    {{
    for(var j=0;j<it.length;j++) {
    var data = it[j];
    }}
    <div>
        <span style="color: #1d9230">发送时间：{{=data.sendTime||''}}</span>
    </div>
    <div>
        <span style="color: #1d9230">首次时间：{{=data.firstTime||''}}</span>
    </div>
    <div>
        <span style="color: #1d9230">末次时间：{{=data.lastTime||''}}</span>
    </div>
        {{?data.costList}}
        {{
        for(var m=0;m<data.costList.length;m++) {
        var data1 = data.costList[m];
        }}
        <div>
            <span style="color: #1d41ce">单据号：{{=data1.costListId||''}}</span>
        </div>
        <div>
            <span>发送医嘱：{{=data1.sendName||''}}</span>
        </div>
        <div>
            <span>收费项目：{{=data1.costListType||''}}</span>
        </div>
        <div>
            <span>发送次数：{{=data1.sendNum||''}}</span>
            <span style="width:60%;float:right">计费状态：{{=data1.sendBillStatus||''}}</span>
        </div>
        <div>
            <span>执行状态：{{=data1.executeStatus||''}}</span>
            <span style="width:60%;float:right">执行科室：{{=data1.executeDepartment||''}}</span>
        </div>
        <div>
            <span>执行人：{{=data1.executor||''}}</span>
            <span style="width:60%;float:right">执行时间：{{=data1.executeTime||''}}</span>
        </div>
        {{ } }}
        {{?}}
    {{ } }}
    {{?}}
</script>
<!--新医嘱发送记录列表筛选-->
<script id="selectAdviceSends" type="text/template">
    <div class="flex aui-margin-t-5" >
        <div class="flex-item">
            <span class="key">病案费目：</span>
            <span class="value">
                 <select class="select" style="width:4rem" id="typeCode1">
                      <option value="" id="typeCodeOne1">请选择</option>
                     {{
                        if(it.adviceType){
                            for(var i=0;i<it.adviceType.length;i++) {
                            var item = it.adviceType[i];
                            }}
                        <option value="{{=item.code}}">{{=item.text}}</option>
                     {{}}}}
                 </select>
            </span>
        </div>
    </div>
    <div class="flex aui-margin-t-5">
        <div class="flex-item">
            <span class="key">医嘱状态：</span>
            <span class="value">
                 <select class="select" id="status1" style="width: 5.2rem">
                      <option value="" id="statusOne1">请选择</option>
                     {{
                        if(it.adviceStatus){
                            for(var i=0;i<it.adviceStatus.length;i++) {
                            var item = it.adviceStatus[i];
                            }}
                        <option value="{{=item.code}}">{{=item.text}}</option>
                     {{}}}}
                 </select>
            </span>
        </div>
    </div>
    <div class="flex aui-margin-t-5">
        <div class="flex-item">
            <span class="key">开嘱时间：</span>
            <span class="value"><input class="adviceInputLong" type="text" onclick="pickerWithTime(this)" placeholder="请输入内容" id="foundTimeBegin1"></span>
            <span>&nbsp;&nbsp;至&nbsp;&nbsp; </span>
            <span class="value"><input class="adviceInputLong" type="text" onclick="pickerWithTime(this)" placeholder="请输入内容" id="foundTimeEnd1"></span>
        </div>
    </div>
    <div class="flex aui-margin-t-5">
        <div class="flex-item">
            <span class="key">上次执行：</span>
            <span class="value"><input class="adviceInputLong" type="text" onclick="pickerWithTime(this)" placeholder="请输入内容" id="lastExcecutiveTimeBegin1"></span>
            <span>&nbsp;&nbsp;至&nbsp;&nbsp;</span>
            <span class="value"><input class="adviceInputLong" type="text" onclick="pickerWithTime(this)" placeholder="请输入内容" id="lastExcecutiveTimeEnd1"></span>
        </div>
    </div>
    <div class="aui-text-center aui-margin-t-15">
        <div class="btn aui-btn aui-btn-success" onclick="adviceRecordsForAdviceSends('select');">确定</div>
        <div class="btn aui-btn aui-btn-success" style="margin-left: 1rem" tapmode onclick="adviceSendsReset();">重置</div>
    </div>
</script>
<!--医嘱执行-待执行列表-->
<script id="adviceExecuteNoDoList" type="text/template">
    {{?it}}
    {{
    for(var i=0;i<it.length;i++) {
    var item = it[i];
    }}
    <div class="adviceExecuteNoDoList aui-font-size-14" onclick="deleteInfusionStick('{{=item.id}}')">
        <div>
            <div class="executeStatus">{{=item.executeStatus||''}}</div>
            <div class="adviceType">{{=item.adviceType||''}}</div>
        </div>
        <div class="right">
            {{?item.doctorEntrust}}
            <div>
                <span>医生托嘱：{{=item.doctorEntrust||''}}</span>
            </div>
            {{?}}
            {{?item.adviceNameList}}
            {{for(var j=0;j<item.adviceNameList.length;j++) {
            }}
            <div>
                <span>{{=item.adviceNameList[j]||''}}</span>
            </div>
            {{}}}
            {{?}}
            {{?item.usage}}
            <div>
                <span>用法：{{=item.usage||''}}</span>
            </div>
            {{?}}
            <div>
                <span>要求时间：{{=item.requiredTime||''}}</span>
            </div>
            <div>
                <span>停止时间：{{=item.stopTime||''}}</span>
            </div>
        </div>
    </div>
    {{ } }}
    {{?}}
</script>
<!--医嘱执行-执行记录列表-->
<script id="adviceExecuteDoneList" type="text/template">

    {{?it}}
    {{
    for(var i=0;i<it.length;i++) {
    var item = it[i];
    }}
    <div class="adviceExecuteDoneList aui-font-size-14" onclick="deleteInfusionStick('{{=item.id}}')">
        <div class="left">
            <div class="adviceType">{{=item.adviceType||''}}</div>
        </div>
        <div class="right">
            {{?item.adviceNameList}}
            {{for(var j=0;j<item.adviceNameList.length;j++) {
            }}
            <div>
                <span>{{=item.adviceNameList[j]||''}}</span>
            </div>
            {{}}}
            {{?}}
            <div>
                <span>要求时间：{{=item.requiredTime||''}}</span>
            </div>
            {{?item.usage}}
            <div>
                <span>用法：{{=item.usage||''}}</span>
            </div>
            {{?}}
            <div>
                <span>执行时间：{{=item.createTime||''}}</span>
                <span>执行人：{{=item.createUserName||''}}</span>
            </div>
            <div>
                <span>执行结果：{{=item.transfusionStatus||''}}</span>
            </div>
        </div>
    </div>
    {{ } }}
    {{?}}
</script>
<!--医嘱执行-->
<script id="adviceExecuteDialog" type="text/template">
    <div class="flex aui-margin-t-5" >
        <div class="flex-item"  style="text-align:left">
            <span>{{=scanAdviceExecute.medBedId||''}}床</span>
            <span style="padding-left: 5%">{{=scanAdviceExecute.patientName||''}}</span>
            <span style="padding-left: 5%">{{=scanAdviceExecute.sexName||''}}</span>
            <span style="padding-left: 5%">{{=scanAdviceExecute.patientAge||''}}</span>
        </div>
    </div>
    {{?scanAdviceExecute.adviceNameList}}
    {{for(var j=0;j<scanAdviceExecute.adviceNameList.length;j++) {
    }}
    <div class="flex aui-margin-t-5" >
        <span>{{=scanAdviceExecute.adviceNameList[j]||''}}</span>
    </div>
    {{}}}
    {{?}}
    <div class="flex aui-margin-t-5" >
        <span>医生托嘱：{{=scanAdviceExecute.doctorEntrust||''}}</span>
    </div>
    <div class="flex aui-margin-t-5" >
        <span>用法：{{=scanAdviceExecute.usage||''}}</span>
    </div>
    <div class="flex aui-margin-t-5" >
        <span>要求时间：{{=scanAdviceExecute.requiredTime||''}}</span>
    </div>
    <div class="flex aui-margin-t-5" >
        <span>停止时间：{{=scanAdviceExecute.stopTime||''}}</span>
    </div>
    </div>
    {{?scanAdviceExecute.executeStatus===4}}
    <div class="flex aui-margin-t-5" >
        <span>执行状态：输液完成</span>
    </div>
    <div class="aui-text-center aui-margin-t-15">
        <div class="btn aui-btn aui-btn-success" style="margin-left: 1rem" tapmode onclick="adviceExecuteClose('adviceExecute-dialog')">关闭</div>
    </div>
    {{??scanAdviceExecute.executeStatus===3}}
    <div class="flex aui-margin-t-5" >
        <span>滴速：<input id="drippingSpeed"></span>
    </div>
    <div class=" aui-margin-t-5" >
        <span>输液执行情况：
            <input name="transfusionStatus" type="radio" value="0" checked/>正常
            <input name="transfusionStatus" type="radio" value="1" style="margin-left: 6%"/>拒绝
            <input name="transfusionStatus" type="radio" value="2" style="margin-left: 6%"/>外出
        </span>

    </div>
    <div class="aui-text-center aui-margin-t-15">
        <div class="btn aui-btn aui-btn-success" onclick="adviceExecuteProcess('{{=scanAdviceExecute.executeStatus}}')">{{=scanAdviceExecute.message}}</div>
        <div class="btn aui-btn aui-btn-success" style="margin-left: 1rem" tapmode onclick="adviceExecuteClose('adviceExecute-dialog')">关闭</div>
    </div>
    {{??scanAdviceExecute.executeStatus==='no'}}
    <div class="aui-text-center aui-margin-t-15">
        <div class="btn aui-btn aui-btn-success" onclick="adviceExecuteScanPatient()">{{=scanAdviceExecute.message}}</div>
        <div class="btn aui-btn aui-btn-success" style="margin-left: 1rem" tapmode onclick="adviceExecuteClose('adviceExecute-dialog')">关闭</div>
    </div>
    {{??}}
    <div class="aui-text-center aui-margin-t-15">
        <div class="btn aui-btn aui-btn-success" onclick="adviceExecuteProcess('{{=scanAdviceExecute.executeStatus}}')">{{=scanAdviceExecute.message}}</div>
        <div class="btn aui-btn aui-btn-success" style="margin-left: 1rem" tapmode onclick="adviceExecuteClose('adviceExecute-dialog')">关闭</div>
    </div>
    {{?}}
</script>
<!--皮试结果-->
<script id="skinTestList" type="text/template">
    {{
    if(it){
        var currentPerson = $api.getStorage(storageKey.currentPerson);
        for(var i=0;i<it.length;i++) {
        var item = it[i];
    }}
    {{?!isEmpty(item.skinResult)}}
    <div class="item skinTestGreen border-green aui-font-size-14" id="skinTest{{=item.medAdviceId}}" name="{{=item.id}}" onclick="SkinTestSelect('{{=item.implementTime}}','{{=item.medAdviceId}}',false)">
        {{??}}
            <div class="item border-green aui-font-size-14"  id="skinTest{{=item.medAdviceId}}" name="{{=item.id}}" onclick="SkinTestSelect( '{{=item.implementTime}}','{{=item.medAdviceId}}',true)">
        {{?}}
        <div class="rowItem">
            <span>{{=currentPerson.medBedName||''}}床 </span>
            <span style="margin-right: 3rem">{{=currentPerson.name||''}}</span>
        </div>
        <div class="rowItem">
            <span>医嘱内容：</span>
            <span>{{=item.medAdviceName||''}}</span>
        </div>
        <div class="rowItem">
            <span>皮试备注：</span>
            <span>{{=item.skinMemo||''}}</span>
        </div>
        <div class="rowItem">
            <span>执行人：</span>
            <span>{{=item.implementNurseName||''}}</span>
        </div>
        <div class="rowItem">
            <span>生效时间：</span>
            <span>{{=item.implementTime||''}}</span>
        </div>
        {{?item.skinResult}}
        {{??}}
                {{
                if((Date.now()-new Date(item.remindTime))>0){
                }}
                <div class="rowItem" style="color: red">
                    {{ }else{}}
                    <div class="rowItem">
                        {{ }}}
                        <span>提醒时间：</span>
                        <span>{{=item.remindTime||''}}</span>
                    </div>
        {{?}}
        <div class="rowItem">
            <span>皮试结果：</span>
            <span>{{=item.skinResult||''}}</span>
        </div>
        <div class="rowItem">
            <span>录入人：</span>
            <span>{{=item.inputNurseName||''}}</span>
        </div>
        <div class="rowItem">
            <span>录入时间：</span>
            <span>{{=item.inputTime||''}}</span>
        </div>
    </div>
    {{ } }}
    {{ } }}
</script>

<script type="text/javascript" src="../script/api.js"></script>
<script type="text/javascript" src="../script/config.js"></script>
<script type="text/javascript" src="../script/common.js"></script>
<script type="text/javascript" src="../script/aui-tab.js"></script>
<script type="text/javascript" src="../script/doT.min.js"></script>
<script type="text/javascript" src="../script/zepto.min.js"></script>
<script type="text/javascript" src="../script/medicalAdviceExecution.js"></script>
</body>
</html>
